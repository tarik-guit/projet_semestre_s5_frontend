<!--header-->
<app-navbar></app-navbar>
<!--header au dessus-->

<!--creer lister les hopitaux-->
<div  class=" card bg-light mt-5 ml-5 mr-5 d-inline-bloc mb-5">
<div class="h2 font-weight-bold p-4" style="background: gainsboro">Mes Hôpitaux</div>
<!-- <div class=" row  bg-light mt-5 ml-5 mr-5 d-inline-bloc mb-5"> -->
    <div class=" row  bg-light m-5" >
    <div class=" d-inline col-sm-4 col-md-4 mb-2">
    <div class="mt-5 "><a class="mt-5 btn btn-circle btn-light text-info " (click)="h_liste()"><img style="position:relative;bottom:  20px" src="https://img.icons8.com/ios-filled/100/000000/showing-video-frames.png"/></a></div>
    <div class="mt-5"><a class="mt-5 btn btn-circle btn-light text-info " (click)="h_creer()"><img style="position:relative;bottom:  20px" src="https://img.icons8.com/ios-filled/100/000000/admin-settings-male.png"/></a></div>
  </div>

  <div class=" d-inline bg-dark col-sm-8 col-md-8 mb-2 card m-0 p-0">
      <!-- <div class="text-light font-weight-bold card-header mb-5">Liste des hôpitaux</div> -->
      <div class="text-light font-weight-bold card-header" >{{titre1}}</div>
    <!--liste hopitaux-->
    <div class="card-body table table-dark "  *ngIf="l_hopitaux==true && edithopital==false">

      <tr>
        <!-- <th>Id</th> -->
        <th>Nom</th>
        <th>Adresse</th>
        <th>Description</th>
        <th>Choisir</th>
        <th>Supprimer</th>
        <th>Modifier</th>

      </tr>
      <tr *ngFor="let p of pageofhopitals ">
        <!-- <th>{{p.id}}</th> -->
        <td>{{p.nom}}</td>
        <td>{{p.adresse}}</td>
        <td>{{p.info_supplementaire}}</td>
        <td><a class="btn text-light" (click)="choisirhopital(p)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
        </svg></a></td>
        <td><a class="btn text-light" (click)="supprimerhopitale(p)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
          <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>
          <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>
        </svg></a></td>
        <td><a class="btn text-light" (click)="editerhopital(p)" ><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
          <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
        </svg></a></td>

      </tr>
      <div style="position: absolute; bottom:3px;right: 3px;">
        <jw-pagination  [items]="listehopitaux" (changePage)="onChangePageh($event)" ></jw-pagination>
      </div>

    </div>
    <!--liste hopitaux au dessus-->
    <!-- creer hopital-->
    <div class="card-body  "  *ngIf="l_hopitaux==false && edithopital==false ">
      <!-- <div class="text-light font-weight-bold card-header">{{titre1}}</div> -->
    <form class="form mt-5">
      <div class="form-group">
        <label  class="text-light police2">Nom <span style="font-style: italic">(Hôpital/Clinique) :</span></label>
        <input name="nom" type="text" class="form-control" [(ngModel)]="hopital.nom" >
      </div>
      <div class="form-group">
        <label  class="text-light police2">Adresse :</label>

        <input name="adresse" type="text" class="form-control" [(ngModel)]="hopital.adresse">
      </div>
      <div class="form-group">
        <label  class="text-light police2">Description :</label>
        <input name="info_supplementaire" type="text" class="form-control" [(ngModel)]="hopital.info_supplementaire">
      </div>
      <div class="form-group ">
        <button type="submit" class="  btn btn-light" (click)="creerhopital(hopital)" ><img src="https://img.icons8.com/pastel-glyph/40/000000/plus--v1.png"/></button>
      </div>
    </form>
    <div class="alert alert-info" *ngIf="resultatcreationhopital.id && afficheralertecreation==true">Un hopital avec id :{{resultatcreationhopital.id}} a été crée</div>
    </div>
    <!-- crrer hopital au dessus-->
    <!--modifier hopital-->

    <div class="card-body  "  *ngIf="edithopital==true ">


      <div class="text-light font-weight-bold card-header">Modifier un hopital de id : <h5 class="d-inline text-info">{{hopital.id}}</h5>></div>
      <form class="form mt-5">
        <div class="form-group">
          <label  class="text-light police2">Nom</label>
          <input name="nom" type="text" class="form-control" [(ngModel)]="hopital.nom" >
        </div>
        <div class="form-group">
          <label  class="text-light police2">Adresse</label>

          <input name="adresse" type="text" class="form-control" [(ngModel)]="hopital.adresse">
        </div>
        <div class="form-group">
          <label  class="text-light police2">Info_supplementaire</label>
          <input name="info_supplementaire" type="text" class="form-control" [(ngModel)]="hopital.info_supplementaire">
        </div>
        <div class="form-group ">
          <button type="submit" class="  btn btn-light" (click)="modifierhopital()" >Modifier</button>
        </div>
      </form>
        </div>
    <!--modifier hopital au dessus-->


  </div>

</div>
  <!--hopital choisis-->
  <div class="row ml-4" *ngIf="choixHos">
      <div class="col-sm-4"></div>
      <div class="alert alert-success col-sm-6" role="alert">
          <i class="fa fa-hospital-o fa-3x mr-3 ml-3" aria-hidden="true"></i>  <strong>ID: </strong><p class="text-info d-inline">{{currenthopital.id}}  |  </p>
          <strong>Nom: </strong><p class="text-info d-inline">{{currenthopital.nom}}  |  </p>
          <strong>Adresse: </strong><p class="text-info d-inline">{{currenthopital.adresse}}  </p>
        </div>

      </div>
  <!-- <div>
    <div class="ml-5 my-2  "><i class="fa fa-hospital-o fa-5x ml-3" aria-hidden="true"></i><h1 class="d-inline font-weight-bold"></h1>

    <div class="d-inline">
      <h3 class="d-inline"> Id:<h3 class="text-info d-inline">{{currenthopital.id}}</h3></h3>
      <h3 class="d-inline">  Nom:<h3 class="text-info d-inline">{{currenthopital.nom}}</h3></h3>
      <h3 class="d-inline">  adresse:<h3 class="text-info d-inline">{{currenthopital.adresse}}</h3></h3>
    </div>
    </div>

  </div> -->
</div>









<!--creer lister les patient-->
<div  class=" card bg-light mt-5 ml-5 mr-5 d-inline-bloc mb-5">
    <div class="h2 font-weight-bold p-4" style="background: gainsboro">Mes Patients</div>
  <!-- <div class="h2 font-weight-bold m-4">Mes Patients</div> -->
  <div class=" row  bg-light mt-5 ml-5 mr-5 d-inline-bloc mb-5">
    <div class=" d-inline col-4 mb-2">
      <div class="mt-5 "><a class="mt-5 btn btn-circle btn-light text-info" (click)="p_liste()"><img style="position:relative;bottom:  20px" src=" https://img.icons8.com/ios-filled/100/000000/showing-video-frames.png"/></a></div>
      <div class="mt-5"><a class="mt-5 btn btn-circle btn-light text-info" (click)="p_creer()"><img style="position:relative;bottom:  20px" src="https://img.icons8.com/ios-filled/100/000000/admin-settings-male.png"/></a></div>
    </div>

    <div class=" d-inline bg-dark col-8 card p-0 m-0">
        <div class="text-light font-weight-bold card-header">{{titre2}} <h5 class="d-inline text-info">  {{currenthopital.id}} <span style="font-style: italic">( {{currenthopital.nom}} )</span></h5></div>
      <!--liste patient-->
      <div class="card-body table table-dark "  *ngIf="l_patients==true && noneditpatient==true">
        <h4 class="text-danger" *ngIf="currenthopital.id==null">Pas d'hopital choisi</h4>

        <tr>
          <!-- <th>Id</th> -->
          <th>Prénom</th>
          <th>Nom</th>
          <th>CIN</th>
          <th>Nombre de visites</th>
          <th>Adresse</th>
          <th>Choisir</th>
          <th>Supprimer</th>
          <th>Data_perso</th>
          <th>Modifier</th>

        </tr>
        <tr *ngFor="let p of pageofpatients">
          <!-- <th>{{p.id}}</th> -->
          <td>{{p.prenom}}</td>
          <td>{{p.nom}}</td>
          <td>{{p.numcarte}}</td>
          <td>{{p.nbre_de_visites}}</td>
          <td>{{p.adresse}}</td>
          <td><a class="btn text-light" (click)="choisirpatient(p)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
          </svg></a></td>
          <td><a class="btn text-light" (click)="supprimerpatient(p)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>
            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>
          </svg></a></td>
          <td><a class="btn text-light"  (click)="editdatapersonelle(p)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-arrow-down-fill" viewBox="0 0 16 16">
            <path d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM8 5a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5A.5.5 0 0 1 8 5z"/>
          </svg></a></td>
          <td><a class="btn text-light" (click)="editerpatient(p)" ><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
          </svg></a></td>
        </tr>
        <div style="position: absolute; bottom:3px;right: 3px;">
          <jw-pagination  [items]="patientscurr" (changePage)="onChangePagep($event)" ></jw-pagination>
        </div>

      </div>
      <!--liste patient au dessus-->
      <!-- creer patient-->
      <div class="card-body  "  *ngIf="l_patients==false && noneditpatient==true && editdataperso ==false && ajoutdataperso==false">
        <h4 class="text-danger" *ngIf="currenthopital.id==null">Pas d'hopital choisi</h4>


        <!-- <div class="text-light font-weight-bold card-header">{{titre2}} <h5 class="d-inline text-info" >  {{currenthopital.id}}  <span style="font-style: italic">( {{currenthopital.nom}} ) </span></h5></div> -->
        <form class="form mt-5">
          <div class="form-group">
            <label  class="text-light police2">Nom</label>
            <input name="nom" type="text" class="form-control" [(ngModel)]="patient.nom" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Prenom</label>
            <input name="prenom" type="text" class="form-control" [(ngModel)]="patient.prenom" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Num carte</label>

            <input name="numcarte" type="number" class="form-control" [(ngModel)]="patient.numcarte">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Nombre de visite</label>
            <input name="nbre_de_visites" type="number" class="form-control" [(ngModel)]="patient.nbre_de_visites">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Adresse</label>
            <input name="adresse" type="text" class="form-control" [(ngModel)]="patient.adresse">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Id hopital</label>
            <input name="idhopital" type="number" class="form-control" [(ngModel)]="currenthopital.id" disabled>
          </div>
          <div class="form-group">
            <button type="submit" class="  btn btn-light" (click)="creerpatient(patient)" ><img src="https://img.icons8.com/pastel-glyph/40/000000/plus--v1.png"/></button>
          </div>
        </form>
      <div class="alert alert-info" *ngIf="resultatcreationpatient.id && afficheralertecreation==true"> Un patient avec l'id {{resultatcreationpatient.id}} a été crée</div>
      </div>
      <!-- crrer patient au dessus-->
      <!-- modifier patient-->

      <div class="card-body  "  *ngIf=" editpatient==true && noneditpatient==false && editdataperso==false   " >
        <div class="text-light font-weight-bold card-header">modifier patient de id: <h5 class="d-inline text-info">{{patient.id}} <h5 class="d-inline text-light">Mr: </h5>{{patient.nom}} {{patient.prenom}}</h5></div>
        <form class="form mt-5">
          <div class="form-group">
            <label  class="text-light police2">Nom</label>
            <input name="nom" type="text" class="form-control" [(ngModel)]="patient.nom" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Prenom</label>
            <input name="prenom" type="text" class="form-control" [(ngModel)]="patient.prenom" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Num carte</label>

            <input name="numcarte" type="number" class="form-control" [(ngModel)]="patient.numcarte">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Nombre de visite</label>
            <input name="nbre_de_visites" type="number" class="form-control" [(ngModel)]="patient.nbre_de_visites">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Adresse</label>
            <input name="adresse" type="text" class="form-control" [(ngModel)]="patient.adresse">
          </div>
          <div class="form-group">
            <label  class="text-light police2">Id hopital</label>
            <input name="idhopital" type="number" class="form-control" [(ngModel)]="currenthopital.id" disabled>
          </div>
          <div class="form-group">
            <button type="submit" class="  btn btn-light" (click)="modifierpatient(patient)" >Modifier</button>
          </div>
        </form>

      </div>
      <!-- modifier patient au dessus-->
      <!--ajout data perso-->

      <div class="card-body  "  *ngIf=" ajoutdataperso==true  ">
        <div class="text-light font-weight-bold card-header">Ajouter data-perso pour patient de id: <h5 class="d-inline text-info">{{patient.id}} <h5 class="d-inline text-light">Mr: </h5>{{patient.nom}} {{patient.prenom}}</h5></div>
        <form class="form mt-5">
          <div class="form-group">
            <label  class="text-light police2">Allergie</label>
            <input name="allergie" type="text" class="form-control" [(ngModel)]="dataperso.allergie" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Antecedents</label>
            <input name="antecedents" type="text" class="form-control" [(ngModel)]="dataperso.antecedants" >
          </div>
          <div class="form-group">
            <label  class="text-light police2">Id patient </label>
            <input name="id patient" type="text" class="form-control" [(ngModel)]="patient.id" disabled >
          </div>

          <div class="form-group">
            <button type="submit" class="  btn btn-light" (click)="creerdatapers(dataperso)" >Ajouter</button>
            <button  class="  btn btn-light ml-3" (click)="retour1()" >Retour</button>

          </div>
        </form>
        <div class="alert alert-info" *ngIf="resultatcreationdataperso.id && afficheralertecreation==true">Une donnéé avec id :{{resultatcreationdataperso.id}} a été crée</div>

      </div>

      <!--ajout data perso au dessus-->
      <!--liste des data personnellees pour un patient donné-->

      <div class="card-body table table-dark "  *ngIf="editdataperso==true && editpatient==false ">
        <div class="text-light font-weight-bold card-header mb-5">Liste des data personnelle pour patient de  id:<h5 class="d-inline text-info">  {{patient.id}} Mr: {{patient.nom}} {{patient.prenom}}</h5></div>
        <tr>
          <th>Id</th>
          <th>Allergie</th>
          <th>Antecedants</th>
          <th>Supprimer</th>

        </tr>
        <tr *ngFor="let p of pageofdataper">
          <th>{{p.id}}</th>
          <td>{{p.allergie}}</td>
          <td>{{p.antecedants}}</td>
          <td><a class="btn text-light" (click)="supprimerdataperso(p)"><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-x-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M14 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
            <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"/>
            <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"/>
          </svg></a></td>
        </tr>
        <div >
          <jw-pagination  [items]="dataspersonnelle" (changePage)="onChangePaged($event)" ></jw-pagination>
        </div>
      </div>
      <button  class="m-4 btn btn-danger" (click)="ajoutdatapers()" *ngIf="editdataperso==true">Ajouter Data</button>
      <!-- lliste data perso au dessus -->

    </div>
  </div>
  <!--patient choisis-->
  <div class="row ml-4" *ngIf="choixPat">
      <div class="col-sm-4"></div>
      <div class="alert alert-success col-sm-6" role="alert">
          <i class="fa fa-wheelchair fa-3x mr-3 ml-3" aria-hidden="true"></i>  <strong>ID: </strong><p class="text-info d-inline">{{currentpatient.id}}  |  </p>
          <strong>Prenom: </strong><p class="text-info d-inline">{{currentpatient.prenom}}  |  </p>
          <strong>Nom: </strong><p class="text-info d-inline">{{currentpatient.nom}}  </p>
        </div>

      </div>
  <!-- <div>
    <div class="ml-5 my-2 d-inline"><i class="fa fa-wheelchair fa-5x  marginleft3" aria-hidden="true"></i><h1 class="d-inline font-weight-bold">:</h1></div>
    <div class="d-inline">
      <h3 class="d-inline"> Id:<h3 class="text-info d-inline">{{currentpatient.id}}</h3></h3>
      <h3 class="d-inline">  Prenom:<h3 class="text-info d-inline">{{currentpatient.prenom}}</h3></h3>
      <h3 class="d-inline">  Nom:<h3 class="text-info d-inline">{{currentpatient.nom}}</h3></h3>
    </div>
  </div> -->
</div>


